#!/usr/bin/env node

var program = require('commander');
var colors = require('colors');
var pkg = require('../package.json');
var upg = require('../lib/upg');

program
  .version(pkg.version);
program
  .command('create <name>')
  .description('创建一个UPG前端项目')
  .option('-f, --config <file>', '设置配置文件, default:./config.json', 'config.json')
  .option('-t, --template <engine>', '指定模板引擎(html|jade|ejs), default: html', 'html')
  .option('-c, --css <engine>', '指定css引擎(css|sass|less), default: css', 'css')
  .action(function(name, options){
    console.log('\nCreate UPG Front-end Program: %s', ('"' + name + '"').yellow);
    console.log('    The config file is: %s', options.config.green);
    console.log('    Use template engine: %s', options.template.blue);
    console.log('    Use css engine: %s\n', options.css.blue);

    var path = program.args.shift() || '.';
    upg.createProject(name, path, options.config);
  });

program.parse(process.argv);